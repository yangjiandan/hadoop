<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
 | Generated by Apache Maven Doxia at 2025-01-09
 | Rendered using Apache Maven Stylus Skin 1.5
-->
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Apache Hadoop Amazon Web Services support &#x2013; S3A Directory Marker Behavior</title>
    <style type="text/css" media="all">
      @import url("../../css/maven-base.css");
      @import url("../../css/maven-theme.css");
      @import url("../../css/site.css");
    </style>
    <link rel="stylesheet" href="../../css/print.css" type="text/css" media="print" />
        <meta name="Date-Revision-yyyymmdd" content="20250109" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
                </head>
  <body class="composite">
    <div id="banner">
                        <a href="http://hadoop.apache.org/" id="bannerLeft">
                                        <img src="http://hadoop.apache.org/images/hadoop-logo.jpg" alt="" />
                </a>
                              <a href="http://www.apache.org/" id="bannerRight">
                                        <img src="http://www.apache.org/images/asf_logo_wide.png" alt="" />
                </a>
            <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                                     <div class="xright">            <a href="http://wiki.apache.org/hadoop" class="externalLink">Wiki</a>
            |
                <a href="https://gitbox.apache.org/repos/asf/hadoop.git" class="externalLink">git</a>
              
                                   &nbsp;| Last Published: 2025-01-09
              &nbsp;| Version: 3.5.0-SNAPSHOT
            </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                                                   <h5>General</h5>
                  <ul>
                  <li class="none">
                  <a href="../../../index.html">Overview</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/SingleCluster.html">Single Node Setup</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/ClusterSetup.html">Cluster Setup</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/CommandsManual.html">Commands Reference</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/FileSystemShell.html">FileSystem Shell</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/Compatibility.html">Compatibility Specification</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/DownstreamDev.html">Downstream Developer's Guide</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/AdminCompatibilityGuide.html">Admin Compatibility Guide</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/InterfaceClassification.html">Interface Classification</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/filesystem/index.html">FileSystem Specification</a>
            </li>
          </ul>
                       <h5>Common</h5>
                  <ul>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/CLIMiniCluster.html">CLI Mini Cluster</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/FairCallQueue.html">Fair Call Queue</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/NativeLibraries.html">Native Libraries</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/Superusers.html">Proxy User</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/RackAwareness.html">Rack Awareness</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/SecureMode.html">Secure Mode</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/ServiceLevelAuth.html">Service Level Authorization</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/HttpAuthentication.html">HTTP Authentication</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/CredentialProviderAPI.html">Credential Provider API</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-kms/index.html">Hadoop KMS</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/Tracing.html">Tracing</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/UnixShellGuide.html">Unix Shell Guide</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/registry/index.html">Registry</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/AsyncProfilerServlet.html">Async Profiler</a>
            </li>
          </ul>
                       <h5>HDFS</h5>
                  <ul>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/HdfsDesign.html">Architecture</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/HdfsUserGuide.html">User Guide</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/HDFSCommands.html">Commands Reference</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/HDFSHighAvailabilityWithQJM.html">NameNode HA With QJM</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/HDFSHighAvailabilityWithNFS.html">NameNode HA With NFS</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/ObserverNameNode.html">Observer NameNode</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/Federation.html">Federation</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/ViewFs.html">ViewFs</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/ViewFsOverloadScheme.html">ViewFsOverloadScheme</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/HdfsSnapshots.html">Snapshots</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/HdfsEditsViewer.html">Edits Viewer</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/HdfsImageViewer.html">Image Viewer</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/HdfsPermissionsGuide.html">Permissions and HDFS</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/HdfsQuotaAdminGuide.html">Quotas and HDFS</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/LibHdfs.html">libhdfs (C API)</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/WebHDFS.html">WebHDFS (REST API)</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-hdfs-httpfs/index.html">HttpFS</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/ShortCircuitLocalReads.html">Short Circuit Local Reads</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/CentralizedCacheManagement.html">Centralized Cache Management</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/HdfsNfsGateway.html">NFS Gateway</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/HdfsRollingUpgrade.html">Rolling Upgrade</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/ExtendedAttributes.html">Extended Attributes</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/TransparentEncryption.html">Transparent Encryption</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/HdfsMultihoming.html">Multihoming</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/ArchivalStorage.html">Storage Policies</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/MemoryStorage.html">Memory Storage Support</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/SLGUserGuide.html">Synthetic Load Generator</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/HDFSErasureCoding.html">Erasure Coding</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/HDFSDiskbalancer.html">Disk Balancer</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/HdfsUpgradeDomain.html">Upgrade Domain</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/HdfsDataNodeAdminGuide.html">DataNode Admin</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs-rbf/HDFSRouterFederation.html">Router Federation</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/HdfsProvidedStorage.html">Provided Storage</a>
            </li>
          </ul>
                       <h5>MapReduce</h5>
                  <ul>
                  <li class="none">
                  <a href="../../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/MapReduceTutorial.html">Tutorial</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/MapredCommands.html">Commands Reference</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/MapReduce_Compatibility_Hadoop1_Hadoop2.html">Compatibility with 1.x</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/EncryptedShuffle.html">Encrypted Shuffle</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/PluggableShuffleAndPluggableSort.html">Pluggable Shuffle/Sort</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/DistributedCacheDeploy.html">Distributed Cache Deploy</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/SharedCacheSupport.html">Support for YARN Shared Cache</a>
            </li>
          </ul>
                       <h5>MapReduce REST APIs</h5>
                  <ul>
                  <li class="none">
                  <a href="../../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/MapredAppMasterRest.html">MR Application Master</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-mapreduce-client/hadoop-mapreduce-client-hs/HistoryServerRest.html">MR History Server</a>
            </li>
          </ul>
                       <h5>YARN</h5>
                  <ul>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/YARN.html">Architecture</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/YarnCommands.html">Commands Reference</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/CapacityScheduler.html">Capacity Scheduler</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/FairScheduler.html">Fair Scheduler</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/ResourceManagerRestart.html">ResourceManager Restart</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/ResourceManagerHA.html">ResourceManager HA</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/ResourceModel.html">Resource Model</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/NodeLabel.html">Node Labels</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/NodeAttributes.html">Node Attributes</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/WebApplicationProxy.html">Web Application Proxy</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/TimelineServer.html">Timeline Server</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/TimelineServiceV2.html">Timeline Service V.2</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/WritingYarnApplications.html">Writing YARN Applications</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/YarnApplicationSecurity.html">YARN Application Security</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/NodeManager.html">NodeManager</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/DockerContainers.html">Running Applications in Docker Containers</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/RuncContainers.html">Running Applications in runC Containers</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/NodeManagerCgroups.html">Using CGroups</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/SecureContainer.html">Secure Containers</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/ReservationSystem.html">Reservation System</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/GracefulDecommission.html">Graceful Decommission</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/OpportunisticContainers.html">Opportunistic Containers</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/Federation.html">YARN Federation</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/SharedCache.html">Shared Cache</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/UsingGpus.html">Using GPU</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/UsingFPGA.html">Using FPGA</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/PlacementConstraints.html">Placement Constraints</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/YarnUI2.html">YARN UI2</a>
            </li>
          </ul>
                       <h5>YARN REST APIs</h5>
                  <ul>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/WebServicesIntro.html">Introduction</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/ResourceManagerRest.html">Resource Manager</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/NodeManagerRest.html">Node Manager</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/TimelineServer.html#Timeline_Server_REST_API_v1">Timeline Server</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/TimelineServiceV2.html#Timeline_Service_v.2_REST_API">Timeline Service V.2</a>
            </li>
          </ul>
                       <h5>YARN Service</h5>
                  <ul>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/yarn-service/Overview.html">Overview</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/yarn-service/QuickStart.html">QuickStart</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/yarn-service/Concepts.html">Concepts</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/yarn-service/YarnServiceAPI.html">Yarn Service API</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/yarn-service/ServiceDiscovery.html">Service Discovery</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/yarn-service/SystemServices.html">System Services</a>
            </li>
          </ul>
                       <h5>Hadoop Compatible File Systems</h5>
                  <ul>
                  <li class="none">
                  <a href="../../../hadoop-aliyun/tools/hadoop-aliyun/index.html">Aliyun OSS</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-aws/tools/hadoop-aws/index.html">Amazon S3</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-azure/index.html">Azure Blob Storage</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-azure-datalake/index.html">Azure Data Lake Storage</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-cos/cloud-storage/index.html">Tencent COS</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-huaweicloud/index.html">Huaweicloud OBS</a>
            </li>
          </ul>
                       <h5>Auth</h5>
                  <ul>
                  <li class="none">
                  <a href="../../../hadoop-auth/index.html">Overview</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-auth/Examples.html">Examples</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-auth/Configuration.html">Configuration</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-auth/BuildingIt.html">Building</a>
            </li>
          </ul>
                       <h5>Tools</h5>
                  <ul>
                  <li class="none">
                  <a href="../../../hadoop-streaming/HadoopStreaming.html">Hadoop Streaming</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-archives/HadoopArchives.html">Hadoop Archives</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-archive-logs/HadoopArchiveLogs.html">Hadoop Archive Logs</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-distcp/DistCp.html">DistCp</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-federation-balance/HDFSFederationBalance.html">HDFS Federation Balance</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-gridmix/GridMix.html">GridMix</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-rumen/Rumen.html">Rumen</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-resourceestimator/ResourceEstimator.html">Resource Estimator Service</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-sls/SchedulerLoadSimulator.html">Scheduler Load Simulator</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/Benchmarking.html">Hadoop Benchmarking</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-dynamometer/Dynamometer.html">Dynamometer</a>
            </li>
          </ul>
                       <h5>Reference</h5>
                  <ul>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/release/">Changelog and Release Notes</a>
            </li>
                  <li class="none">
                  <a href="../../../api/index.html">Java API docs</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/UnixShellAPI.html">Unix Shell API</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/Metrics.html">Metrics</a>
            </li>
          </ul>
                       <h5>Configuration</h5>
                  <ul>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/core-default.xml">core-default.xml</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/hdfs-default.xml">hdfs-default.xml</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs-rbf/hdfs-rbf-default.xml">hdfs-rbf-default.xml</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/mapred-default.xml">mapred-default.xml</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-common/yarn-default.xml">yarn-default.xml</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-kms/kms-default.html">kms-default.xml</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-hdfs-httpfs/httpfs-default.html">httpfs-default.xml</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/DeprecatedProperties.html">Deprecated Properties</a>
            </li>
          </ul>
                                 <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
          <img alt="Built by Maven" src="../../images/logos/maven-feather.png"/>
        </a>
                       
                               </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <!---
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License. See accompanying LICENSE file.
-->
<h1>S3A Directory Marker Behavior</h1>
<p>This document discusses directory markers and a change to the S3A connector: surplus directory markers are no longer deleted.</p>
<p>This document shows how the performance of S3 I/O, especially applications creating many files (for example Apache Hive) or working with versioned S3 buckets can increase performance by changing the S3A directory marker retention policy.</p>
<p>This release always retains markers and <i>is potentially not backwards compatible</i> with hadoop versions released before 2021.</p>
<p>The compatibility table of older releases is as follows:</p>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th> Branch     </th>
<th> Compatible Since </th>
<th> Support                               </th>
<th> Released </th></tr>
</thead><tbody>

<tr class="b">
<td> Hadoop 2.x </td>
<td> 2.10.2           </td>
<td> Partial                               </td>
<td> 05/2022  </td></tr>
<tr class="a">
<td> Hadoop 3.0 </td>
<td> n/a              </td>
<td> WONTFIX                               </td>
<td>          </td></tr>
<tr class="b">
<td> Hadoop 3.1 </td>
<td> n/a              </td>
<td> WONTFIX                               </td>
<td>          </td></tr>
<tr class="a">
<td> Hadoop 3.2 </td>
<td> 3.2.2            </td>
<td> Partial                               </td>
<td> 01/2022  </td></tr>
<tr class="b">
<td> Hadoop 3.3 </td>
<td> 3.3.1            </td>
<td> Full: deletion is enabled             </td>
<td> 01/2021  </td></tr>
<tr class="a">
<td> Hadoop 3.4 </td>
<td> 3.4.0            </td>
<td> Full: deletion is disabled            </td>
<td> 03/2024  </td></tr>
<tr class="b">
<td> Hadoop 3.5 </td>
<td> 3.5.0            </td>
<td> Full: markers will always be retained </td>
<td>          </td></tr>
</tbody>
</table>
<p><i>Full</i></p>
<p>These releases are full marker-aware and will (possibly only optionally) not delete them on file/dir creation.</p>
<p><i>Partial</i></p>
<p>These branches have partial compatibility, and are safe to use with hadoop versions that do not delete markers.</p>
<ul>

<li>They can list directories with surplus directory markers, and correctly identify when such directories have child entries.</li>
<li>They can open files under directories with such markers.</li>
<li>They will always delete parent directory markers when creating their own files and directories.</li>
</ul>
<p>All these branches are no longer supported by Apache for bugs and security fixes -users should upgrade to more recent versions for those reasons alone.</p>
<p><i>WONTFIX</i></p>
<p>These stores may misinterpret a surplus directory marker for an empty directory. This does not happen on listing, but it may be misinterpreted on rename operations.</p>
<p>The compatibility patch &#x201c;HADOOP-17199. S3A Directory Marker HADOOP-13230 backport&#x201d; is present in both the Hadoop 3.0.x and 3.1.x source branches, for anyone wishing to make a private release. However, there will be no further Apache releases of the obsolete branches.</p>
<p>Everyone using these branches should upgrade to a supported version.</p><section>
<h2><a name="History"></a>History</h2><section>
<h3><a name="Hadoop_3.3.1_Directory_marker_retention_is_optional"></a>Hadoop 3.3.1 Directory marker retention is optional</h3>
<p><a class="externalLink" href="https://issues.apache.org/jira/browse/HADOOP-13230">HADOOP-13230</a> <i>S3A to optionally retain directory markers</i></p></section><section>
<h3><a name="Hadoop_3.4.0:_markers_are_not_deleted_by_default"></a>Hadoop 3.4.0: markers are not deleted by default</h3>
<p><a class="externalLink" href="https://issues.apache.org/jira/browse/HADOOP-18752">HADOOP-18752</a> <i>Change fs.s3a.directory.marker.retention to &#x201c;keep&#x201d;</i> changed the default policy.</p>
<p>Marker deletion can still be enabled.</p>
<p>Since this release there have been no reports of incompatibilities surfacing &#x201c;in the wild&#x201d;. That is: out of date hadoop versions are not being used to work into the same parts of S3 buckets as modern releases.</p></section><section>
<h3><a name="Hadoop_3.5:_markers_are_never_deleted"></a>Hadoop 3.5: markers are never deleted</h3>
<p><a class="externalLink" href="https://issues.apache.org/jira/browse/HADOOP-19278">HADOOP-19278</a> <i>S3A: remove option to delete directory markers</i></p>
<p>Surplus directory markers are neither checked for nor deleted.</p>
<p>Removing the option to delete markers simplifies the code and significantly improves testing: * There is no need to parameterize many tests based on the marker policy. * Tests which make assertions about the number of http requests which take places no longer have to contain separate assertions for the keeping/deleting options.</p>
<p>Notes * During the directory tree copy which takes place in a rename, surplus directory markers are not copied. They are, after all, surplus. * The <code>hadoop s3guard markers</code> command (see below) can purge directory markers from a bucket or path.</p></section></section><section>
<h2><a name="Background:_Directory_Markers:_what_and_why.3F"></a><a name="background"></a> Background: Directory Markers: what and why?</h2>
<p>Amazon S3 is not a Posix-like filesystem, it is an object store.</p>
<p>The S3A connector not only provides a hadoop-compatible API to interact with data in S3, it tries to maintain the filesystem metaphor for applications written to expect it.</p>
<p>One key aspect of the metaphor of a file system is &#x201c;directories&#x201d;</p><section><section>
<h4><a name="The_directory_concept"></a>The directory concept</h4>
<p>In normal Unix-style filesystems, the &#x201c;filesystem&#x201d; is really a &#x201c;directory and file tree&#x201d; in which files are always stored in &#x201c;directories&#x201d;</p>
<ul>

<li>A directory may contain zero or more files.</li>
<li>A directory may contain zero or more directories &#x201c;subdirectories&#x201d;</li>
<li>At the base of a filesystem is the &#x201c;root directory&#x201d;</li>
<li>All files MUST be in a directory &#x201c;the parent directory&#x201d;</li>
<li>All directories other than the root directory must be in another directory.</li>
<li>If a directory contains no files or directories, it is &#x201c;empty&#x201d;</li>
<li>When a directory is <i>listed</i>, all files and directories in it are enumerated and returned to the caller</li>
</ul>
<p>The S3A connector emulates this metaphor by grouping all objects which have the same prefix as if they are in the same directory tree.</p>
<p>If there are two objects <code>a/b/file1</code> and <code>a/b/file2</code> then S3A pretends that there is a directory <code>/a/b</code> containing two files <code>file1</code>  and <code>file2</code>.</p>
<p>The directory itself does not exist.</p>
<p>There&#x2019;s a bit of a complication here.</p></section><section>
<h4><a name="What_does_mkdirs.28.29_do.3F"></a>What does <code>mkdirs()</code> do?</h4>
<ol style="list-style-type: decimal">

<li>

<p>In HDFS and other &#x201c;real&#x201d; filesystems, when <code>mkdirs()</code> is invoked on a path whose parents are all directories, then an <i>empty directory</i> is created.</p>
</li>
<li>

<p>This directory can be probed for &#x201c;it exists&#x201d; and listed (an empty list is returned)</p>
</li>
<li>

<p>Files and other directories can be created in it.</p>
</li>
</ol>
<p>Lots of code contains a big assumption here: after you create a directory it exists. They also assume that after files in a directory are deleted, the directory still exists.</p>
<p>Given the S3A connector mimics directories just by aggregating objects which share a prefix, how can you have empty directories?</p>
<p>The original Hadoop <code>s3n://</code> connector created a Directory Marker -any path ending in <code>_$folder$</code> was considered to be a sign that a directory existed. A call to <code>mkdir(s3n://bucket/a/b)</code> would create a new marker object <code>a/b_$folder$</code> .</p>
<p>The S3A also has directory markers, but it just appends a &#x201c;/&#x201d; to the directory name, so <code>mkdir(s3a://bucket/a/b)</code> will create a new marker object <code>a/b/</code> .</p>
<p>In older versions of Hadoop, when a file was created under a path, the directory marker is deleted. And when a file is deleted, if it was the last file in the directory, the marker is recreated.</p>
<p>This release does not delete directory markers.</p>
<p>And, historically, when a path is listed, if a marker to that path is found, <i>it has been interpreted as an empty directory.</i></p>
<p>It is that little detail which is the cause of the incompatibility issues.</p></section></section></section><section>
<h2><a name="The_Problem_with_Directory_Markers"></a><a name="problem"></a> The Problem with Directory Markers</h2>
<p>Creating, deleting and the listing directory markers adds overhead and can slow down applications.</p>
<p>Whenever a file is created the S3A client had to delete any marker which could exist in the parent directory <i>or any parent paths</i>. Rather than do a sequence of probes for parent markers existing, the connector issued a single request to S3 to delete all parents. For example, if a file <code>/a/b/file1</code> is created, a multi-object <code>DELETE</code> request containing the keys <code>/a/</code> and <code>/a/b/</code> was issued. If no markers exists, this is harmless.</p>
<p>When a file is deleted, a check for the parent directory continuing to exist (i.e. are there sibling files/directories?), and if not a marker is created.</p>
<p>This all works well and has worked well for many years.</p>
<p>However, it turns out to have some scale problems, especially from the delete call made whenever a file is created.</p>
<ol style="list-style-type: decimal">

<li>

<p>The number of the objects listed in each request is that of the number of parent directories: deeper trees create longer requests.</p>
</li>
<li>

<p>Every single object listed in the delete request is considered to be a write operation.</p>
</li>
<li>

<p>In versioned S3 buckets, tombstone markers are added to the S3 indices even if no object was deleted.</p>
</li>
<li>

<p>There&#x2019;s also the overhead of actually issuing the request and awaiting the response.</p>
</li>
</ol>
<p>Issue #2 has turned out to cause significant problems on some interactions with large hive tables:</p>
<p>Because each object listed in a DELETE call is treated as one operation, and there is a limit of 3500 write requests/second in a directory tree. When writing many files to a deep directory tree, it is the delete calls which create throttling problems.</p>
<p>The tombstone markers have follow-on consequences -it makes listings against S3 versioned buckets slower. This can have adverse effects on those large directories, again.</p></section><section>
<h2><a name="Verifying_marker_policy_with_s3guard_bucket-info"></a><a name="bucket-info"></a> Verifying marker policy with <code>s3guard bucket-info</code></h2>
<p>Although it is now moot, the <code>bucket-info</code> command has been enhanced to support verification from the command line of bucket policies via the <code>-marker</code> option</p>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th> option                   </th>
<th> verifies                                                         </th>
<th> result </th></tr>
</thead><tbody>

<tr class="b">
<td> <code>-markers aware</code>         </td>
<td> The hadoop release is &#x201c;aware&#x201d; of directory markers. Always true  </td>
<td> 0      </td></tr>
<tr class="a">
<td> <code>-markers keep</code>          </td>
<td> Directory markers are kept. Always true                          </td>
<td> 0      </td></tr>
<tr class="b">
<td> <code>-markers delete</code>        </td>
<td> Directory markers are deleted. Always false                      </td>
<td> 1      </td></tr>
<tr class="a">
<td> <code>-markers authoritative</code> </td>
<td> Directory markers are kept in authoritative paths.  Always false </td>
<td> 1      </td></tr>
</tbody>
</table>
<p>All releases of Hadoop which have been updated to be marker aware will support the <code>-markers aware</code> option.</p></section><section>
<h2><a name="The_marker_tool:_hadoop_s3guard_markers"></a><a name="marker-tool"></a> The marker tool: <code>hadoop s3guard markers</code></h2>
<p>The marker tool aims to help migration by scanning/auditing directory trees for surplus markers, and for optionally deleting them. Leaf-node markers for empty directories are not considered surplus and will be retained.</p>
<p>Syntax</p>

<div class="source">
<div class="source">
<pre>&gt; hadoop s3guard markers -verbose -nonauth
markers (-audit | -clean) [-min &lt;count&gt;] [-max &lt;count&gt;] [-out &lt;filename&gt;] [-limit &lt;limit&gt;] [-nonauth] [-verbose] &lt;PATH&gt;
        View and manipulate S3 directory markers
</pre></div></div>

<p><i>Options</i></p>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th> Option            </th>
<th> Meaning                                                    </th></tr>
</thead><tbody>

<tr class="b">
<td> <code>-audit</code>          </td>
<td> Audit the path for surplus markers                         </td></tr>
<tr class="a">
<td> <code>-clean</code>          </td>
<td> Clean all surplus markers under a path                     </td></tr>
<tr class="b">
<td> <code>-min &lt;count&gt;</code>    </td>
<td> Minimum number of markers an audit must find (default: 0)  </td></tr>
<tr class="a">
<td> <code>-max &lt;count&gt;]</code>   </td>
<td> Minimum number of markers an audit must find (default: 0)  </td></tr>
<tr class="b">
<td> <code>-limit &lt;count&gt;]</code> </td>
<td> Limit the number of objects to scan                        </td></tr>
<tr class="a">
<td> <code>-nonauth</code>        </td>
<td> Only consider markers in non-authoritative paths as errors </td></tr>
<tr class="b">
<td> <code>-out &lt;filename&gt;</code> </td>
<td> Save a list of all markers found to the nominated file     </td></tr>
<tr class="a">
<td> <code>-verbose</code>        </td>
<td> Verbose output                                             </td></tr>
</tbody>
</table>
<p><i>Exit Codes</i></p>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th> Code </th>
<th> Meaning                                             </th></tr>
</thead><tbody>

<tr class="b">
<td> 0    </td>
<td> Success                                             </td></tr>
<tr class="a">
<td> 3    </td>
<td> interrupted -the value of <code>-limit</code> was reached      </td></tr>
<tr class="b">
<td> 42   </td>
<td> Usage                                               </td></tr>
<tr class="a">
<td> 46   </td>
<td> Markers were found (see HTTP &#x201c;406&#x201d;, &#x201c;unacceptable&#x201d;) </td></tr>
</tbody>
</table>
<p>All other non-zero status code also indicate errors of some form or other.</p><section>
<h3><a name="markers_-audit"></a><a name="marker-tool-report"></a><code>markers -audit</code></h3>
<p>Audit the path and fail if any markers were found.</p>

<div class="source">
<div class="source">
<pre>&gt; hadoop s3guard markers -limit 8000 -audit s3a://noaa-isd-pds/

The directory marker policy of s3a://noaa-isd-pds is &quot;Keep&quot;
2020-08-05 13:42:56,079 [main] INFO  tools.MarkerTool (DurationInfo.java:&lt;init&gt;(77)) - Starting: marker scan s3a://noaa-isd-pds/
Scanned 1,000 objects
Scanned 2,000 objects
Scanned 3,000 objects
Scanned 4,000 objects
Scanned 5,000 objects
Scanned 6,000 objects
Scanned 7,000 objects
Scanned 8,000 objects
Limit of scan reached - 8,000 objects
2020-08-05 13:43:01,184 [main] INFO  tools.MarkerTool (DurationInfo.java:close(98)) - marker scan s3a://noaa-isd-pds/: duration 0:05.107s
No surplus directory markers were found under s3a://noaa-isd-pds/
Listing limit reached before completing the scan
2020-08-05 13:43:01,187 [main] INFO  util.ExitUtil (ExitUtil.java:terminate(210)) - Exiting with status 3:
</pre></div></div>

<p>Here the scan reached its object limit before completing the audit; the exit code of 3, &#x201c;interrupted&#x201d; indicates this.</p>
<p>Example: a verbose audit of a bucket whose policy if authoritative -it is not an error if markers are found under the path <code>/tables</code>.</p>

<div class="source">
<div class="source">
<pre>&gt; bin/hadoop s3guard markers -audit s3a://london/

  The directory marker policy of s3a://london is &quot;Authoritative&quot;
  Authoritative path list is &quot;/tables&quot;
  2020-08-05 18:29:19,186 [main] INFO  tools.MarkerTool (DurationInfo.java:&lt;init&gt;(77)) - Starting: marker scan s3a://london/
  2020-08-05 18:29:21,610 [main] INFO  tools.MarkerTool (DurationInfo.java:close(98)) - marker scan s3a://london/: duration 0:02.425s
  Listed 8 objects under s3a://london/

Found 3 surplus directory markers under s3a://london/
    s3a://london/tables
    s3a://london/tables/tables-4
    s3a://london/tables/tables-4/tables-5
Found 5 empty directory 'leaf' markers under s3a://london/
    s3a://london/tables/tables-2
    s3a://london/tables/tables-3
    s3a://london/tables/tables-4/tables-5/06
    s3a://london/tables2
    s3a://london/tables3
  These are required to indicate empty directories
  Surplus markers were found -failing audit
  2020-08-05 18:29:21,614 [main] INFO  util.ExitUtil (ExitUtil.java:terminate(210)) - Exiting with status 46:
</pre></div></div>

<p>This fails because surplus markers were found. This S3A bucket would <i>NOT</i> be safe for older Hadoop versions to use.</p></section><section>
<h3><a name="markers_clean"></a><a name="marker-tool-clean"></a><code>markers clean</code></h3>
<p>The <code>markers clean</code> command will clean the directory tree of all surplus markers. The <code>-verbose</code> option prints more detail on the operation as well as some IO statistics</p>

<div class="source">
<div class="source">
<pre>bin/hadoop s3guard markers -clean -verbose s3a://london/
The directory marker policy of s3a://london is &quot;Keep&quot;
2023-06-06 17:15:52,110 [main] INFO  tools.MarkerTool (DurationInfo.java:&lt;init&gt;(77)) - Starting: marker scan s3a://london/
  Directory Marker user/stevel/target/test/data/4so7pZebRx/
  Directory Marker user/stevel/target/test/data/OKvfC3oxlD/
  Directory Marker user/stevel/target/test/data/VSTQ1O4dMi/

Listing statistics:
  counters=((object_continue_list_request=0) (object_list_request.failures=0) (object_list_request=1) (object_continue_list_request.failures=0));
gauges=();
minimums=((object_list_request.min=540) (object_continue_list_request.min=-1) (object_continue_list_request.failures.min=-1) (object_list_request.failures.min=-1));
maximums=((object_continue_list_request.failures.max=-1) (object_list_request.failures.max=-1) (object_list_request.max=540) (object_continue_list_request.max=-1));
means=((object_list_request.mean=(samples=1, sum=540, mean=540.0000)) (object_continue_list_request.failures.mean=(samples=0, sum=0, mean=0.0000)) (object_list_request.failures.mean=(samples=0, sum=0, mean=0.0000)) (object_continue_list_request.mean=(samples=0, sum=0, mean=0.0000)));


2023-06-06 17:15:52,662 [main] INFO  tools.MarkerTool (DurationInfo.java:close(98)) - marker scan s3a://london/: duration 0:00.553s
Listed 3 objects under s3a://london/

No surplus directory markers were found under s3a://london/
Found 3 empty directory 'leaf' markers under s3a://london/
    s3a://london/user/stevel/target/test/data/4so7pZebRx/
    s3a://london/user/stevel/target/test/data/OKvfC3oxlD/
    s3a://london/user/stevel/target/test/data/VSTQ1O4dMi/
These are required to indicate empty directories

0 markers to delete in 0 pages of 250 keys/page
2023-06-06 17:15:52,664 [main] INFO  tools.MarkerTool (DurationInfo.java:&lt;init&gt;(77)) - Starting: Deleting markers
2023-06-06 17:15:52,664 [main] INFO  tools.MarkerTool (DurationInfo.java:close(98)) - Deleting markers: duration 0:00.000s

</pre></div></div>

<p>The <code>markers -clean</code> command <i>does not</i> delete markers above empty directories -only those which have files underneath. If invoked on a path, it will clean up the directory tree into a state where it is safe for older versions of Hadoop to interact with.</p>
<p>Note that if invoked with a <code>-limit</code> value, surplus markers found during the scan will be removed, even though the scan will be considered a failure due to the limit being reached.</p></section></section><section>
<h2><a name="Advanced_Topics"></a><a name="advanced-topics"></a> Advanced Topics</h2><section>
<h3><a name="Probing_for_retention_via_PathCapabilities_and_StreamCapabilities"></a><a name="pathcapabilities"></a> Probing for retention via <code>PathCapabilities</code> and <code>StreamCapabilities</code></h3>
<p>An instance of the filesystem can be probed for its directory marker retention ability/ policy can be probed for through the <code>org.apache.hadoop.fs.PathCapabilities</code> interface, which all FileSystem classes have supported since Hadoop 3.3.</p>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th> Probe                                                     </th>
<th> Meaning                                                                  </th>
<th> Current value </th></tr>
</thead><tbody>

<tr class="b">
<td> <code>fs.s3a.capability.directory.marker.aware</code>                </td>
<td> Does the filesystem support surplus directory markers?                   </td>
<td> true          </td></tr>
<tr class="a">
<td> <code>fs.s3a.capability.directory.marker.policy.delete</code>        </td>
<td> Is the bucket policy &#x201c;delete&#x201d;?                                           </td>
<td> false         </td></tr>
<tr class="b">
<td> <code>fs.s3a.capability.directory.marker.policy.keep</code>          </td>
<td> Is the bucket policy &#x201c;keep&#x201d;?                                             </td>
<td> true          </td></tr>
<tr class="a">
<td> <code>fs.s3a.capability.directory.marker.policy.authoritative</code> </td>
<td> Is the bucket policy &#x201c;authoritative&#x201d;?                                    </td>
<td> false         </td></tr>
<tr class="b">
<td> <code>fs.s3a.capability.directory.marker.action.delete</code>        </td>
<td> If a file was created at this path, would directory markers be deleted?  </td>
<td> false         </td></tr>
<tr class="a">
<td> <code>fs.s3a.capability.directory.marker.action.keep</code>          </td>
<td> If a file was created at this path, would directory markers be retained? </td>
<td> true          </td></tr>
</tbody>
</table>
<p>The probe <code>fs.s3a.capability.directory.marker.aware</code> allows for a filesystem to be probed to determine if its file listing policy is &#x201c;aware&#x201d; of directory marker retention -that is: can this s3a client safely work with S3 buckets where markers have not been deleted.</p>
<p>The <code>fs.s3a.capability.directory.marker.policy.</code> probes return the active policy for the bucket.</p>
<p>The two <code>fs.s3a.capability.directory.marker.action.</code> probes dynamically query the marker retention behavior of a specific path. That is: if a file was created at that location, would ancestor directory markers be kept or deleted?</p>
<p>The <code>S3AFileSystem</code> class also implements the <code>org.apache.hadoop.fs.StreamCapabilities</code> interface, which can be used to probe for marker awareness via the <code>fs.s3a.capability.directory.marker.aware</code> capability.</p></section></section><section>
<h2><a name="Glossary"></a><a name="glossary"></a> Glossary</h2><section><section>
<h4><a name="Directory_Marker"></a>Directory Marker</h4>
<p>An object in an S3 bucket with a trailing &#x201c;/&#x201d;, used to indicate that there is a directory at that location. These are necessary to maintain expectations about directories in an object store:</p>
<ol style="list-style-type: decimal">

<li>After <code>mkdirs(path)</code>, <code>exists(path)</code> holds.</li>
<li>After <code>rm(path/*)</code>, <code>exists(path)</code> holds.</li>
</ol>
<p>In previous releases of Hadoop, the marker created by a <code>mkdirs()</code> operation was deleted after a file was created. Rather than make a slow HEAD probe + optional marker DELETE of every parent path element, HADOOP-13164 switched to enumerating all parent paths and issuing a single bulk DELETE request. This is faster under light load, but as each row in the delete consumes one write operation on the allocated IOPs of that bucket partition, creates load issues when many worker threads/processes are writing to files. This problem is bad on Apache Hive as: * The hive partition structure places all files within the same S3 partition. * As they are deep structures, there are many parent entries to include in the bulk delete calls. * It&#x2019;s creating a lot temporary files, and still uses rename to commit output.</p>
<p>Apache Spark has less of an issue when an S3A committer is used -although the partition structure is the same, the delayed manifestation of output files reduces load.</p></section><section>
<h4><a name="Leaf_Marker"></a>Leaf Marker</h4>
<p>A directory marker which has not files or directory marker objects underneath. It genuinely represents an empty directory.</p></section><section>
<h4><a name="Surplus_Marker"></a>Surplus Marker</h4>
<p>A directory marker which is above one or more files, and so is superfluous. These are the markers which were traditionally deleted; now it is optional.</p>
<p>Older versions of Hadoop mistake such surplus markers as Leaf Markers.</p></section><section>
<h4><a name="Versioned_Bucket"></a>Versioned Bucket</h4>
<p>An S3 Bucket which has Object Versioning enabled.</p>
<p>This provides a backup and recovery mechanism for data within the same bucket: older objects can be listed and restored through the AWS S3 console and some applications.</p></section></section></section><section>
<h2><a name="References"></a>References</h2><!-- if extending, keep JIRAs separate, have them in numerical order; the rest in lexical.` -->

<ul>

<li>

<p><a class="externalLink" href="https://issues.apache.org/jira/browse/HADOOP-13164">HADOOP-13164</a>. <i>Optimize S3AFileSystem::deleteUnnecessaryFakeDirectories.</i></p>
</li>
<li>

<p><a class="externalLink" href="https://issues.apache.org/jira/browse/HADOOP-13230">HADOOP-13230</a>. <i>S3A to optionally retain directory markers</i></p>
</li>
<li>

<p><a class="externalLink" href="https://issues.apache.org/jira/browse/HADOOP-16090">HADOOP-16090</a>. <i>S3A Client to add explicit support for versioned stores.</i></p>
</li>
<li>

<p><a class="externalLink" href="https://issues.apache.org/jira/browse/HADOOP-16823">HADOOP-16823</a>. <i>Large DeleteObject requests are their own Thundering Herd</i></p>
</li>
<li>

<p><a class="externalLink" href="https://issues.apache.org/jira/browse/HADOOP-17199">HADOOP-17199</a>. Backport HADOOP-13230 list/getFileStatus changes for preserved directory markers</p>
</li>
<li><a class="externalLink" href="https://docs.aws.amazon.com/AmazonS3/latest/dev/Versioning.html">Object Versioning</a>. <i>Using versioning</i></li>
<li>

<p><a class="externalLink" href="https://docs.aws.amazon.com/AmazonS3/latest/dev/optimizing-performance.html">Optimizing Performance</a>. <i>Best Practices Design Patterns: Optimizing Amazon S3 Performance</i></p>
</li>
</ul></section>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
        &#169;            2008-2025
              Apache Software Foundation
            
                          - <a href="http://maven.apache.org/privacy-policy.html">Privacy Policy</a>.
        Apache Maven, Maven, Apache, the Apache feather logo, and the Apache Maven project logos are trademarks of The Apache Software Foundation.
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
